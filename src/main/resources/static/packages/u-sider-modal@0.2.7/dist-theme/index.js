(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define("USiderModal",[],e):"object"===typeof exports?exports["USiderModal"]=e():t["USiderModal"]=e()})(window,(function(){return function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=0)}({0:function(t,e,o){o("2b45"),t.exports=o("41f5")},"16d6":function(t,e,o){"use strict";var n=o("c04a"),i=o.n(n);o.d(e,"default",(function(){return i.a}))},"2b45":function(t,e,o){},"41f5":function(t,e,o){"use strict";o.r(e),o.d(e,"USiderModal",(function(){return S}));var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",t._g({ref:"container",class:[t.$style.root,t.$style.container,"left"===t.position?t.$style.posHideLeft:t.$style.posHideRight],style:t.showOrHideStyle,attrs:{"vusion-slot-name":"default"}},t.$listeners),[o("div",{class:[t.$style.showButton,"left"===t.position?t.$style.leftButton:t.$style.rightButton],on:{click:t.toggle}},[t._v(t._s(t.buttonShowText))]),o("div",{class:t.$style.content},[t._t("default"),!t.$slots.default&&t.$env.VUE_APP_DESIGNER?o("s-empty"):t._e()],2)])},i=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{class:t.$style.empty,attrs:{"s-empty":"true"}},[t._v("+")])},r=[],u={name:"s-empty",props:{}},a=u,l=o("16d6");function d(t,e,o,n,i,s,r,u){var a,l="function"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=o,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(a=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=a):i&&(a=u?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),a)if(l.functional){l._injectStyles=a;var d=l.render;l.render=function(t,e){return a.call(e),d(t,e)}}else{var f=l.beforeCreate;l.beforeCreate=f?[].concat(f,a):[a]}return{exports:t,options:l}}function f(t){this["$style"]=l["default"].locals||l["default"]}var c=d(a,s,r,!1,f,null,null),h=c.exports,p=h,_={name:"u-sider-modal",components:{SEmpty:p},props:{position:{type:String,default:"right",validator:t=>["left","right"].includes(t)},positionY:{type:String,default:""},buttonPosY:{type:String,default:""},toggleShow:{type:Boolean,default:!1},buttonText:{type:String,default:"侧边栏弹窗"}},data(){return{isShow:!1,showOrHideStyle:"",currentWidth:0,buttonShowText:this.buttonText}},mounted(){this.$nextTick(()=>{this.updateView();let t=new ResizeObserver(()=>{this.updateView(),console.log("size change")});t.observe(this.$refs.container)})},methods:{toggle(t){"changePos"!==t&&(this.isShow=!this.isShow,this.isShow?this.$emit("before-open"):this.$emit("before-close")),this.changePosition()},updateView(){this.$refs.container&&(this.currentWidth=window.getComputedStyle(this.$refs.container).width),this.changePosition()},changePosition(){if(this.showOrHideStyle="top: "+this.positionY+"px;","left"===this.position){let t=this.$refs.container.querySelector("[class*=u-sider-modal_leftButton]");this.isShow?(this.delayAnimation("left: 0;",0),t&&t.setAttribute("data-arrow-transform","true")):(this.delayAnimation("left: -"+this.currentWidth+";",0),t&&t.setAttribute("data-arrow-transform","false"))}else if("right"===this.position){let t=this.$refs.container.querySelector("[class*=u-sider-modal_rightButton]");this.isShow?(this.delayAnimation("right: 0;",0),t&&t.setAttribute("data-arrow-transform","true")):(this.delayAnimation("right: -"+this.currentWidth+";",0),t&&t.setAttribute("data-arrow-transform","false"))}},delayAnimation(t,e){setTimeout(()=>{this.showOrHideStyle+=t,this.isShow?this.$emit("open"):this.$emit("close")},e)},designerControl(){this.toggle()}},watch:{position(t){this.toggle("changePos")},toggleShow(t){this.toggle()},positionY(t){this.toggle("changePos")},buttonText(t){this.buttonShowText=t}}},y=_,m=o("c00b");function g(t){this["$style"]=m["default"].locals||m["default"]}var b=d(y,n,i,!1,g,null,null),S=b.exports;e["default"]=S},b11e:function(t,e,o){t.exports={root:"u-sider-modal__297u3sNn",container:"u-sider-modal_container__297u3sNn",content:"u-sider-modal_content__297u3sNn",posHideLeft:"u-sider-modal_posHideLeft__297u3sNn",posHideRight:"u-sider-modal_posHideRight__297u3sNn",showButton:"u-sider-modal_showButton__297u3sNn",leftButton:"u-sider-modal_leftButton__297u3sNn",rightButton:"u-sider-modal_rightButton__297u3sNn"}},c00b:function(t,e,o){"use strict";var n=o("b11e"),i=o.n(n);o.d(e,"default",(function(){return i.a}))},c04a:function(t,e,o){t.exports={empty:"index_empty__297u3sNn"}}})}));
//# sourceMappingURL=index.js.map